@using MinStat.AnalizeUI.Models
@model FastSummarySelectModel
<div class="modal hide" id="chooseEnterpriseModal">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            ×</button>
        <h3>
            Выберите предприятие</h3>
    </div>
    <div class="modal-body">
        <div class="tabbable">
            <!-- Only required for left/right tabs -->
            <ul class="nav nav-tabs">
                @foreach (var groupedItem in Model.Enterprises.GroupBy(x => x.Value.Substring(0, 1)).OrderBy(x => x.Key))
                {
                    <li class="@Html.Raw(groupedItem.Key ==  Model.Enterprises.GroupBy(x => x.Value.Substring(0, 1)).OrderBy(x => x.Key).First().Key ? "active" : "")"><a href="@String.Format("#tab_{0}", groupedItem.Key)" data-toggle="tab">@groupedItem.Key</a></li>
                }
            </ul>
            <div class="tab-content">
                @foreach (var groupedItem in Model.Enterprises.GroupBy(x => x.Value.Substring(0, 1)))
                {
                    <div class="tab-pane @Html.Raw(groupedItem.Key == Model.Enterprises.GroupBy(x => x.Value.Substring(0, 1)).OrderBy(x => x.Key).First().Key ? "active" : "")" id="@String.Format("tab_{0}", groupedItem.Key)">
                        
                        @for (int i = 0; i < groupedItem.Count(); i++ )
                        {
                            <div class="span2" @((i + 1) % 3 == 0 ? "style=height:30px;" : "style=float:left;height:30px;")>
                                @Html.ActionLink(groupedItem.ElementAt(i).Value, "Report", "Common", new { enterpriseId = groupedItem.ElementAt(i).Key }, null)
                            </div>
                        
                        }
                    </div>
                }
                <div class="tab-pane" id="tab2">
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Close</a>
    </div>
</div>
